models:
  - name: int_orders
    description: an intermediate model that brings together information about "orders"+"order_items" sources, and connects it with some important tables ("price history", "product features", "shipping agreement" and "accounting"), also bringing the "shipping revenue" field " for the granularity of "order_items". Some more complex computations were also performed.
    columns:

      - name: order_id
        data_type: varchar
        description: the order id. It is not unique and it is not null.
          
      - name: user_id
        data_type: varchar
        description: It is not unique and it is not null.

      - name: address_id
        data_type: varchar
        description: the address id were the order is going. It is not unique and it is not null.

      - name: product_id
        data_type: varchar
        description: the product id. It is not unique and it is not null.
    
      - name: promo_id
        data_type: varchar
        description: the promotion id.
        
      - name: quantity
        data_type: number
        description: the quantity of a product id sold inside a order id (so, an order id can have several rows with products id

      - name: unit_price_usd
        data_type: number
        description: the price of the product.
        
      - name: gross_line_sales_usd
        data_type: number
        description: the total sale (quantity * unit_price_usd)

      - name: discount_usd
        data_type: number
        description: the discount apllied to that product.

      - name: product_cost_usd
        data_type: number
        description: the cost to obtain the product to the supplier-

      - name: shipping_line_usd
        data_type: number
        description: the revenue charge to the client.

      - name: shipping_cost_usd
        data_type: number
        description: the cost that the shipping_service charge to the company.

      - name: status_order
        data_type: varchar
        description: the status of an order.

      - name: shipping_service
        data_type: varchar
        description: name of the shipping service.

      - name: created_at_utc
        data_type: timestamp_ntz
        description: the creation of the record in utc.

      - name: estimated_delivery_at_utc
        data_type: timestamp_ntz
        description: the date of estimated delivery.

      - name: delivered_at_utc
        data_type: timestamp_ntz
        description: the date of the effective delivery.

      - name: created_at_date
        data_type: date
        description: the same column of created_at_utc but in a date format.

      - name: order_items_load
        data_type: varchar
        description: the timestamp when the records from "order_items" was load into bronze stage.

      - name: orders_load
        data_type: varchar
        description: the timestamp when the record from "orders" was load into bronze stage.

      - name: batch_id
        data_type: varchar
        description: a hash to identify when the incremental model was run.